var layerDefs = [{
		title: "Corine Landcover",
		type: "corine",
		groupselector: "#european"
	},{
		title: "Natura 2000",
		type: "natura",
		groupselector: "#european"
	},{
        title: "OpenStreetMap",
        type: "osm",
        groupselector: "#Background"        
    },{
        title: "EuroGeoSource services",
        type: "getcapabilities",
		layeroptions: {version:1.3},
        groupselector: "#EGSservices",
        url: "http://maps.eurogeosource.eu/geoserver/ows?service=wms&version=1.1.1&request=GetCapabilities"
	},{ 
        title: "OneGeology",
        type: "getcapabilities",
        groupselector: "#european",
		url: "http://maps.eurogeosource.eu/maps/onegeology/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba1",url: "http://maps.eurogeosource.eu/maps/spba1/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba2",url: "http://maps.eurogeosource.eu/maps/spba2/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba3",url: "http://maps.eurogeosource.eu/maps/spba3/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba4",url: "http://maps.eurogeosource.eu/maps/spba4/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba5",url: "http://maps.eurogeosource.eu/maps/spba5/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba6",url: "http://maps.eurogeosource.eu/maps/spba6/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba7",url: "http://maps.eurogeosource.eu/maps/spba7/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba8",url: "http://maps.eurogeosource.eu/maps/spba8/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba9",url: "http://maps.eurogeosource.eu/maps/spba9/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba10",url: "http://maps.eurogeosource.eu/maps/spba10/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba11",url: "http://maps.eurogeosource.eu/maps/spba11/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba12",url: "http://maps.eurogeosource.eu/maps/spba12/service?REQUEST=GetCapabilities"
    },{ title: "Southern Permian Basin Atlas",type: "getcapabilities",groupselector: "#spba13",url: "http://maps.eurogeosource.eu/maps/spba13/service?REQUEST=GetCapabilities"
    },{
        title: "Belgium",
		type: "getcapabilities",
        groupselector: "#belgium1",
		url: "http://maps.eurogeosource.eu/maps/belgie/service?REQUEST=GetCapabilities"
	},{
        title: "Belgium",
		type: "getcapabilities",
        groupselector: "#belgium2",
		url: "http://maps.eurogeosource.eu/maps/belgie2/service?REQUEST=GetCapabilities"
    },{
        title: "Denmark",
        type: "getcapabilities",
        groupselector: "#denmark",
        url: "http://maps.eurogeosource.eu/maps/denmark/service?REQUEST=GetCapabilities"
    },{
        title: "Aluskord",
		type: "getcapabilities",
        groupselector: "#estland_aluskord",
		url: "http://maps.eurogeosource.eu/maps/estonia_aluskord/service?REQUEST=GetCapabilities"
	},{
        title: "Aluspohi",
		type: "getcapabilities",
        groupselector: "#estland_aluspohi",
		url: "http://maps.eurogeosource.eu/maps/estonia_aluspohi/service?REQUEST=GetCapabilities"
	},{
        title: "Pinnakaart",
		type: "getcapabilities",
        groupselector: "#estland_pinnakaart",
		url: "http://maps.eurogeosource.eu/maps/estonia_pinnakaart/service?REQUEST=GetCapabilities"
    },{
    	title: "Netherlands_ado",
		type: "getcapabilities",
        groupselector: "#netherlands_ado",
		url: "http://maps.eurogeosource.eu/maps/netherlands_ado/service?REQUEST=GetCapabilities"
	},{
    	title: "Netherlands_dgm",
		type: "getcapabilities",
        groupselector: "#netherlands_dgm",
		url: "http://maps.eurogeosource.eu/maps/netherlands_dgm/service?REQUEST=GetCapabilities"
	},{
    	title: "Netherlands_geotop",
		type: "getcapabilities",
        groupselector: "#netherlands_geotop",
		url: "http://maps.eurogeosource.eu/maps/netherlands_geotop/service?REQUEST=GetCapabilities"
	},{
    	title: "Netherlands_og",
		type: "getcapabilities",
        groupselector: "#netherlands_og",
		url: "http://maps.eurogeosource.eu/maps/netherlands_og/service?REQUEST=GetCapabilities"
    },{
    	title: "Norway1",
		type: "getcapabilities",
        groupselector: "#norway_facility",
		url: "http://maps.eurogeosource.eu/maps/norway_facility/service?REQUEST=GetCapabilities"
	},{
    	title: "Norway2",
		type: "getcapabilities",
        groupselector: "#norway_geology",
		url: "http://maps.eurogeosource.eu/maps/norway_geology/service?REQUEST=GetCapabilities"
	},{
    	title: "Norway3",
		type: "getcapabilities",
        groupselector: "#norway_sa",
		url: "http://maps.eurogeosource.eu/maps/norway_sa/service?REQUEST=GetCapabilities"
	},{
    	title: "Norway4",
		type: "getcapabilities",
        groupselector: "#norway_wellbores",
		url: "http://maps.eurogeosource.eu/maps/norway_wellbores/service?REQUEST=GetCapabilities"
	},{
        title: "Portugal",
        type: "getcapabilities",
        groupselector: "#portugal",
        url: "http://maps.eurogeosource.eu/maps/portugal/service?REQUEST=GetCapabilities"
    },{
        title: "Poland",
        type: "getcapabilities",
        groupselector: "#poland",
        url: "http://maps.eurogeosource.eu/maps/poland/service?REQUEST=GetCapabilities"
    },{
        title: "Spain",
        type: "getcapabilities",
        groupselector: "#spain_geol_1m",
        url: "http://maps.eurogeosource.eu/maps/spain_geol_1m/service?REQUEST=GetCapabilities"
    },{
        title: "Spain",
        type: "getcapabilities",
        groupselector: "#spain_geol_200",
        url: "http://maps.eurogeosource.eu/maps/spain_geol_200/service?REQUEST=GetCapabilities"
    },{
        title: "Spain",
        type: "getcapabilities",
        groupselector: "#spain_magna_50",
        url: "http://maps.eurogeosource.eu/maps/spain_magna_50/service?REQUEST=GetCapabilities"
    },{
        title: "Hungary",
        type: "getcapabilities",
        groupselector: "#hungary_pretercier",
        url: "http://maps.eurogeosource.eu/maps/hungary_pretercier/service?REQUEST=GetCapabilities"
    },{
        title: "Hungary",
        type: "getcapabilities",
        groupselector: "#hungary_mfdt",
        url: "http://maps.eurogeosource.eu/maps/hungary_mfdt/service?REQUEST=GetCapabilities"
    },{
        title: "Hungary",
        type: "getcapabilities",
        groupselector: "#hungary_atlasz200",
        url: "http://maps.eurogeosource.eu/maps/hungary_atlasz200/service?REQUEST=GetCapabilities"
    },{
        title: "Italy",
        type: "getcapabilities",
        groupselector: "#italy",
        url: "http://maps.eurogeosource.eu/maps/italy/service?REQUEST=GetCapabilities"
    },{
        title: "Slovenia",
        type: "getcapabilities",
        groupselector: "#slovenia",
        url: "http://maps.eurogeosource.eu/maps/slovenia/service?REQUEST=GetCapabilities"
    }
    ];

// override OpenLayers.WMS.getFullRequestString class member function
OpenLayers.Layer.WMS.prototype.getFullRequestString = function(newParams, altUrl) { 
	var projectionCode = this.map.getProjection();
	var value = (projectionCode == "none") ? null : projectionCode
	if (this.options.sphericalmercatoralias)
	{
		if(value == 'EPSG:900913' || value == 'EPSG:102113' || value == 'EPSG:3857') { 
			value = this.options.sphericalmercatoralias; 
		} 
	} 
	if (parseFloat(this.params.VERSION) >= 1.3) {
		this.params.CRS = value;
	} else {
		this.params.SRS = value;
	}

	return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this, arguments);
};